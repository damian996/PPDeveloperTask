(function(){var n=angular.module("StoreApp");n.controller("ProductController",["$scope","$window","dataService","checkoutService",function(n,t,i,r){n.selectedCategory=1;n.basket={};n.basket.total=0;n.basket.basketItems=[];n.data=i;i.getProducts().then(function(){},function(){alert("Could not load products.")});n.selectCategory=function(t){n.selectedCategory=t};n.isCategorySelected=function(t){return n.selectedCategory===t};n.addToTheBasket=function(n){var t=this.basket.basketItems.indexOf(n),i;t!=-1?(i=this.basket.basketItems[t],i.quantity++,this.basket.basketItems[t]=i):(n.quantity=1,this.basket.basketItems.push(n));this.basket.total+=n.unitPrice};n.removeFromTheBasket=function(n){var t=this.basket.basketItems.indexOf(n);this.basket.total-=n.quantity*n.unitPrice;this.basket.basketItems.splice(t,1)};n.checkout=function(n){r.checkout(n).then(function(n){t.location="#/order/"+n},function(){alert("Checkout error!")})}}]);n.directive("shoppingBasket",function(){return{templateUrl:"Directives/ShoppingBasket.html"}});n.directive("productList",function(){return{templateUrl:"Directives/ProductList.html"}});n.directive("productCategories",function(){return{templateUrl:"Directives/ProductCategories.html"}})})();
//# sourceMappingURL=product.min.js.map
